<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>方案二</title>
    <!-[if IE9]>
    <script src="../js/html5.js" type="text/javascript"></script>
    <![endif]->
    <!-[if IE8]>
    <noscript>
        <style>.html5-wrappers{display:none!important;}</style>
        <div class="ie-noscript-warning">您的浏览器禁用了脚本，请<a href="">查看这里</a>来启用脚本!或者<a href="/?noscript=1">继续访问</a>.
        </div>
    </noscript>
    <![endif]->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/base.css" rel="stylesheet" type="text/css">
    <link href="css/app_downAlert.css" rel="stylesheet" type="text/css">
    <link href="css/retailCommon.css" rel="stylesheet" type="text/css">
    <link href="css/retail-login-register.css" rel="stylesheet" type="text/css">
    <link href="css/newYearCommon.css" rel="stylesheet" type="text/css">
    <link href="css/newYear-activityList.css" rel="stylesheet" type="text/css">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../js/jquery-1.10.2.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../js/bootstrap.min.js"></script>
    <script src="js/newYear.js"></script>
    <script src="js/alert.js"></script>
    <script>
        $(function(){
            //手机号码验证
            $(".js_title").keyup(function(){
                var len = $(this).val().length;
                len = parseInt(len);
                if (len > 20) {
                    $(this).parent().find(".error").text("最多不超过20个汉字");
                }
            });

            //图片更换
            $('#js_input').on('change',function(e){
                var tar = this,
                        files = tar.files,
                        fNum = files.length,
                        URL = window.URL || window.webkitURL;
                if(!files[0])return;
                for(var i=0;i<fNum;i++){
                    if(files[i].type.search(/image/)>=0){
                        var lqy = URL.createObjectURL(files[i]);
                        var newImg = new Image();
                        newImg.onload = function(){
                            $(".this_img").remove();
                            document.getElementById("icon_img").appendChild(newImg);
                            $(this).addClass("this_img newYear-project-img001");
                            $("#icon_img").find(".error").html('');
                        };
                        newImg.src = lqy;
                    }
                }
            });
            $('#js_input02').on('change',function(e){
                var tar = this,
                        files = tar.files,
                        fNum = files.length,
                        URL = window.URL || window.webkitURL;
                if(!files[0])return;
                for(var i=0;i<fNum;i++){
                    if(files[i].type.search(/image/)>=0){
                        var lqy = URL.createObjectURL(files[i]);
                        var newImg = new Image();
                        newImg.onload = function(){
                            $(".this_img02").remove();
                            document.getElementById("icon_img02").appendChild(newImg);
                            $(this).addClass("this_img02 newYear-project-img001");
                            $("#icon_img02").find(".error").html('');
                        };
                        newImg.src = lqy;
                    }
                }
            });
        });

        function UpladFile() {
            var fileObj = document.getElementById("file01").files[0]; // 获取文件对象
            var FileController = "";                    // 接收上传文件的后台地址
            // FormData 对象
            var form = new FormData();
            form.append("author", "sweety");                        // 可以增加表单数据
            form.append("file", fileObj);                           // 文件对象
            // XMLHttpRequest 对象
            var xhr = new XMLHttpRequest();
            xhr.open("post", FileController, true);
            xhr.onload = function () {
                alert("上传完成!");
            };
            xhr.send(form);
        }
    </script>
</head>
<body>
<div class="container-fluid padding-0px" >
    <div class="comafter newYear-project">
        <div class="col-xs-12 newYear-activityList-title">设置实物奖品</div>
        <div class="comafter col-xs-12">
            <div class="newYear-project-title">实物奖品标题<span id="js_spanTitle01" class="js_spanTitle newYear-project-title02" style="display: none">翡翠吊坠缅甸原石辟邪开光貔貅吊坠天然玉石</span></div>
            <div class="retail-comverify newYear-cominput-wrap">
                <input id="js_title01" placeholder="最多不超过20个汉字" class="js_title newYear-project-input" type="text">
                <label class="error"></label>
            </div>
            <div class="newYear-project-title newYear-project-title-img">实物奖品图片<span class="newYear-project-title-warning">请注意图片长宽比例1:1</span></div>
            <div id="icon_img" class="js_iconImg newYear-project-img-wrap">
                <input id="js_input" type="file" src="images/*" style="position: absolute;opacity: 0;height: 80px">
                <img class="this_img newYear-project-img001" src="images/img001.png" alt=""><label id="js_error01" class="error">未选择图片</label>
            </div>
            <div class="retail-comverify">
                <div class="newYear-project-rule">每天本市前<span class="js_spanNum"></span><input id="js_num" onkeyup="num_keyup()" class="newYear-people-number" style="width: 60px;" type="text"/>名用户免费获得实物奖品</div>
                <label id="js_error03" class="js_error error">未填写获奖人数限制</label>
                <label class="js_numSend error error02" style="display: none">已有52人领取实物奖品 ，请在通讯录-客户中查找</label>
            </div>
        </div>
        <div class="col-xs-12 newYear-activityList-title">设置抽奖券奖品</div>
        <div class="comafter col-xs-12">
            <div class="newYear-project-title">抽奖券奖品标题<span id="js_spanTitle02" class="js_spanTitle newYear-project-title02" style="display: none">翡翠吊坠缅甸原石辟邪开光貔貅吊坠天然玉石</span></div>
            <div class="retail-comverify newYear-cominput-wrap">
                <input id="js_title02" placeholder="最多不超过20个汉字" class="js_title newYear-project-input" type="text">
                <label class="error"></label>
            </div>
            <div class="newYear-project-title newYear-project-title-img">抽奖券奖品图片<span class="newYear-project-title-warning">请注意图片长宽比例1:1</span></div>
            <div id="icon_img02" class="js_iconImg newYear-project-img-wrap">
                <input type="file" id="js_input02" src="images/*" style="position: absolute;opacity: 0;height: 80px">
                <img class="this_img02 newYear-project-img001" src="images/img001.png" alt="">
                <label id="js_error02"  class="js_error error">未选择图片</label>
                <label class="js_numSend error error02" style="display: none">已有52人领取实物奖品 ，请在通讯录-客户中查找</label>
            </div>
        </div>
        <div class="col-xs-12 padding-0px retail-comverify">
            <div class="newYear-project-warning newYear-project-warning-text">超过以上数量或外市用户免费获得抽奖券奖品，活动结束为止</div>
            <label  class="js_numSend error error02" style="bottom: 8px;display: none">已有52人领取实物奖品 ，请在通讯录-客户中查找</label>
        </div>
        <div class="col-xs-12 newYear-project-warning-wrap">
            <div class="newYear-project-warning text-center">获奖用户将到店领取奖品</div>
            <div class="newYear-project-warning text-center">参与活动的所有用户将统计在通讯录的客户列表中</div>
        </div>
    </div>
    <div id="js_creater" class="navbar-fixed-bottom">
        <div class="js_creater newYear-project-bigBtn bgcolor-zby text-center">生成活动图片</div>
    </div>
    <!--生成活动图片后的按钮-->
    <div id="js_unoverBtn" class="navbar-fixed-bottom newYear-activityList-btn01" style="display: none">
        <a onclick="alertFunc()" href="javascript:;" class="col-xs-6 combtn">结束活动</a>
        <a href="javascript:;" class="col-xs-6 combtn newbtn">查看活动图片</a>
    </div>
    <!--活动已结束-->
    <div id="js_overBtn" class="navbar-fixed-bottom" style="display: none">
        <div class="newYear-project-bigBtn disabled text-center">活动已结束</div>
    </div>
</div>
<div id="com_black" onclick="cancelAlert()" class="js_com_black com_black" style="display: none"></div>
<div class="js_sureAlert js_hide_com sure-alert" style="display: none">
    <div class="text-center sure-alert-text">
        <div class="sure-alert-text01">是否确定生成?</div>
        <div class="sure-alert-text02">确定后不可修改，但可强制结束</div>
    </div>
    <div class="sure-alert-btn">
        <div onclick="cancelAlert()" class="col-xs-6 text-center color-zby sure-alert-btn-cancel">取消</div>
        <div class="col-xs-6 text-center color-zby sure-alert-btn-yes">确定</div>
    </div>
</div>
<div class="js_sureAlert js_hide_com sure-alert" style="display: none">
    <div class="text-center sure-alert-text">
        <div class="sure-alert-text01">是否确定结束?</div>
        <div class="sure-alert-text02">确定后新用户不能领取</div>
    </div>
    <div class="sure-alert-btn">
        <div onclick="cancelAlert()" class="col-xs-6 text-center color-zby sure-alert-btn-cancel">取消</div>
        <div class="js_sureBtn col-xs-6 text-center color-zby sure-alert-btn-yes">确定</div>
    </div>
</div>
</body>
</html>

